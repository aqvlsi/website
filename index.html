<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pak Circuits - Firebase Auth</title>
  <link rel="stylesheet" href="https://picocss.com/docs/css/pico.min.css"/>
</head>
<body>

<header class="container">
  <h1>Pak Circuits</h1>
  <nav>
    <ul>
      <li><strong>Home</strong></li>
      <li><a href="#">Projects</a></li>
      <li><a href="#">Tutorials</a></li>
      <li><a href="#">About</a></li>
    </ul>
  </nav>
</header>

<main class="container">
  <h2>Welcome to Pak Circuits</h2>
  <p>Explore electronics projects, tutorials, and more!</p>

  <section>
    <h2>User Login / Signup</h2>
    <div class="grid">
      <!-- Signup Form -->
      <div class="card">
        <h3>Sign Up</h3>
        <input type="email" id="signup-email" placeholder="Email" />
        <input type="password" id="signup-password" placeholder="Password" />
        <button onclick="signup()">Sign Up</button>
      </div>

      <!-- Login Form -->
      <div class="card">
        <h3>Login</h3>
        <input type="email" id="login-email" placeholder="Email" />
        <input type="password" id="login-password" placeholder="Password" />
        <button onclick="login()">Login</button>
      </div>

      <!-- Status / Logout -->
      <div class="card">
        <h3>Status</h3>
        <p id="auth-status">Checking...</p>
        <button onclick="logout()">Logout</button>
      </div>
    </div>
  </section>
</main>

<footer class="container">
  <small>&copy; 2025 Pak Circuits. All rights reserved.</small>
</footer>

<!-- Firebase Scripts -->
<script type="module">
  // Firebase SDK
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-app.js";
  import {
    getAuth,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    signOut,
    onAuthStateChanged
  } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-auth.js";

  // Your Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyBm6bPIqG_IbI_MQAt9k9X1IVPTbe0_hZs",
    authDomain: "authweb-591a3.firebaseapp.com",
    projectId: "authweb-591a3",
    storageBucket: "authweb-591a3.appspot.com",
    messagingSenderId: "598690765116",
    appId: "1:598690765116:web:840345415f07d41c6c2639",
    measurementId: "G-90GDFQGFHR"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Signup function
  window.signup = async function () {
    const email = document.getElementById("signup-email").value;
    const password = document.getElementById("signup-password").value;
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("‚úÖ Signup successful");
    } catch (error) {
      alert("‚ùå " + error.message);
    }
  };

  // Login function
  window.login = async function () {
    const email = document.getElementById("login-email").value;
    const password = document.getElementById("login-password").value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
      alert("‚úÖ Login successful");
    } catch (error) {
      alert("‚ùå " + error.message);
    }
  };

  // Logout function
  window.logout = async function () {
    await signOut(auth);
    alert("üëã Logged out");
  };

  // Auth state change listener
  onAuthStateChanged(auth, (user) => {
    const status = document.getElementById("auth-status");
    if (user) {
      status.textContent = `‚úÖ Logged in as ${user.email}`;
    } else {
      status.textContent = "‚ùå Not logged in";
    }
  });
</script>

</body>
</html>
